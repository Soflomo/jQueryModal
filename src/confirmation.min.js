(function(b){b.fn.confirmation=function(c){jQuery(this).click(function(f){f.preventDefault();var g=jQuery(this),d=g.data("template");if(d!==undefined){if("#"===d.charAt(0)){a(g,jQuery(d),c)}else{b.get(d,function(e){a(g,jQuery("<div>").html(e),c)})}}})};function a(i,m,d){var j=b.extend({},d),k={},n=b.extend({},b.fn.confirmation.defaults),g=false,h=m.html();n.title=i.text();if(i.data("submit")!==undefined){n.submit=i.data("submit")}if(i.data("cancel")!==undefined){n.cancel=i.data("cancel")}if(i.data("method")!==undefined){n.method=i.data("method")}if(i.data("title")!==undefined){n.title=i.data("title")}k[n.submit]=function(){if(n.ajax){b.ajax(i.attr("href"),{type:n.method})}else{window.location.href=i.attr("href")}m.dialog("close")};k[n.cancel]=function(){m.dialog("close")};for(var c in i.data()){var f=i.data(c),l="%"+c+"%";if(h.indexOf(l)!=-1){g=true;h=h.replace(l,f)}}if(g){m.html(h)}j.title=n.title;j.buttons=k;m.dialog(j)}b.fn.confirmation.defaults={submit:"Submit",cancel:"Cancel",ajax:true,method:"GET"}})(jQuery);